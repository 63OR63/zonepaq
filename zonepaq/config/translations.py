TRANSLATIONS = {
    "English": {
        "meta_description": "A user-friendly GUI application for unpacking, repacking, and solving .pak mods conflicts.",
        "meta_developer": "Developer:",
        "menu_file": "File",
        "menu_file_exit": "Exit",
        "menu_preferences": "Preferences",
        "menu_preferences_settings": "Settings",
        "menu_help": "Help",
        "menu_help_license": "View License",
        "menu_help_homepage": "Visit Homepage",
        "menu_help_about": "About",
        "settings_tools": "Tools",
        "settings_tools_path_tools": "Executables Paths",
        "settings_tools_merging_engine": "Merging Engine",
        "settings_tools_used_tool": "Used Tool",
        "settings_tools_browse": "Browse",
        "settings_tools_install": "Install",
        "settings_tools_unpack": "Unpack",
        "settings_tools_get": "Get",
        "settings_game": "Game",
        "settings_game_path": "Game Folder Path",
        "settings_game_vanilla_unpacked": "Vanilla Unpacked",
        "settings_game_keys": "Encryption Keys",
        "settings_game_aes_key": "AES Key",
        "settings_game_find": "Find",
        "settings_appearance": "Appearance",
        "settings_appearance_customization": "Customization",
        "settings_appearance_color_theme": "Color Theme",
        "settings_appearance_dark_mode": "Dark Mode",
        "settings_appearance_localization": "Localization",
        "settings_appearance_language": "Language",
        "settings_appearance_onboarding": "Onboarding",
        "settings_appearance_hints": "Hints in GUI",
        "settings_appearance_show_hints": "Show",
        "settings_require_restart": "* Require a restart for changes to take effect",
        "settings_save": "Save",
        "generic_ok": "OK",
        "generic_yes": "Yes",
        "generic_no": "No",
        "generic_cancel": "Cancel",
        "generic_retry": "Retry",
        "generic_folder_is_not_empty": "Folder isn't empty",
        "generic_question": "Question",
        "generic_info": "Info",
        "generic_success": "Success",
        "generic_fail": "Fail",
        "generic_warning": "Warning",
        "generic_error": "Error!",
        "generic_results": "Results",
        "generic_search": "Search:",
        "generic_process": "Process",
        "generic_reset": "Reset",
        "generic_unpacked": "Unpacked",
        "generic_not_unpacked": "Not Unpacked",
        "generic_vanilla_were_unpacked": "Vanilla files unpacked",
        "generic_vanilla_were_not_unpacked": "Vanilla files not unpacked",
        "generic_files_were_unpacked": "Files unpacked",
        "generic_files_were_not_unpacked": "Files not unpacked",
        "generic_folders_were_repacked": "Folders repacked",
        "generic_folders_were_not_repacked": "Folders not repacked",
        "generic_installed": "Installed",
        "generic_not_installed": "Not Installed",
        "generic_detected": "Detected",
        "generic_not_detected": "Not Detected",
        "generic_dnd": "Drag and drop",
        "generic_here": "here",
        "generic_any_files": "Any Files",
        "pak": ".pak files",
        "folders": "folders",
        "first_launch_sequence_title": "First Launch",
        "first_launch_sequence_welcome_1": "Welcome! It seems that you launched",
        "first_launch_sequence_welcome_2": "for the first time.",
        "first_launch_sequence_welcome_3": "Current status:",
        "first_launch_sequence_question": "Perform initial setup?",
        "launch_screen_title": "Welcome",
        "launch_screen_header": "What would you like to do?",
        "launch_screen_button_repak": "Unpack or repack",
        "launch_screen_button_merge": "Find conflicts or merge",
        "repak_screen_title": "Unpack and Repack .pak Files",
        "repak_screen_unpack_header": "Unpack .pak files",
        "repak_screen_unpack_hints": (
            "Instructions:\n"
            "1. Add one or more .pak files using one of the following methods:\n"
            '  - Clicking the "Add" button.\n'
            "  - Dragging them from the Explorer into the listbox below.\n"
            '2. Click the "Unpack all" button and choose a destination folder\n'
            "...each .pak file will be unpacked into a separate folder at the selected destination..."
        ),
        "repak_screen_unpack_button": "Unpack all",
        "repak_screen_unpack_msg_empty_list": "Please, select some files to unpack.",
        "repak_screen_unpack_msg_overwrite_1": "The following folders already exist:",
        "repak_screen_unpack_msg_overwrite_2": "Do you want to overwrite them all?",
        "repak_screen_repack_header": "Repack folders",
        "repak_screen_repack_hints": (
            "Instructions:\n"
            "1. Add one or more folders using one of the following methods:\n"
            '  - Clicking the "Add" button.\n'
            "  - Dragging them from the Explorer into the listbox below.\n"
            '2. Click the "Repack all" button and choose a destination folder\n'
            "...each folder will be repacked into a separate .pak file at the selected destination..."
        ),
        "repak_screen_repack_button": "Repack all",
        "repak_screen_repack_msg_empty_list": "Please, select some folders to repack.",
        "button_add": "Add",
        "button_remove": "Remove",
        "button_clear": "Clear",
        "merge_screen_title": "Find conflicts or merge mods",
        "merge_screen_header": "Resolve conflicts between mods",
        "merge_screen_hints": (
            "Instructions:\n"
            "1. Add one or more .pak files using one of the following methods:\n"
            '  - Clicking the "Add" button.\n'
            "  - Dragging them from the Explorer into the listbox below.\n"
            '2. Click the "Analyze all" button.\n'
            "...the merging window will open..."
        ),
        "merge_screen_analyze_button": "Analyze all",
        "merge_screen_analyze_msg_empty_list": "Please, select some files to analyze.",
        "merge_screen_conflicts_title": "Find conflicts or merge mods",
        "merge_screen_conflicts_show_path": "Show full path",
        "merge_screen_conflicts_file_structure": "File Tree",
        "merge_screen_conflicts_pak_sources": "PAK Sources",
        "merge_screen_conflicts_pak_sources_paths": "PAK Sources Paths",
        "merge_screen_conflicts_no_conflicts_count": "Number of files without conflicts:",
        "merge_screen_conflicts_dual_match_count": "Number of dual-source conflicts with matching vanilla files:",
        "merge_screen_conflicts_dual_no_match_count": "Number of dual-source conflicts without matching vanilla files:",
        "merge_screen_conflicts_tri_count": "Number of tri-source conflicts:",
        "merge_screen_conflicts_complex_count": "Number of complex conflicts:",
        "merge_screen_conflicts_select_files": "Please, select files in the tree view to continue.",
        "merge_screen_conflicts_merged_mod_save_location": "Merged mod save location",
        "merge_screen_conflicts_no_files_processed": "No files were processed.",
        "merge_screen_conflicts_final_report_1": "Merged mod was saved at:",
        "merge_screen_conflicts_final_report_2": "Processed:",
        "merge_screen_conflicts_final_report_3": "Skipped:",
        "error_executable_not_found_1": "wasn't found at:",
        "error_executable_not_found_2": 'Please, enter correct path to an executable file (".exe") in the settings and try again.',
        "merge_screen_conflicts_repak_error": "Merged mod wasn't saved with repak error:",
        "merge_screen_conflicts_aborted": "Merged mod wasn't saved: aborted by user.",
        "merge_dir_is_empty": "The folder for merging is empty!\nPlease make sure to save the merged file before closing the merging engine.",
        "merge_screen_conflicts_select_merged_destination": "No folder was selected.",
        "merge_screen_ignore_no_conflicts_checkbutton": "Ignore files without conflicts",
        "merge_screen_conflicts_action_button": "Process",
        "merge_screen_conflicts_select_all_button": "Select All",
        "merge_screen_conflicts_hints": (
            "Instructions:\n"
            '1. Select multiple conflicting files in the tree view by holding CTRL or SHIFT and clicking on them, then click the "Process" button.\n'
            "...the source .pak files for each conflict will be unpacked, and the conflicting files will be opened in the merging engine in groups...\n"
            "2. Resolve each conflict manually or use auto-merge, then save the resulting file. Important: don't change suggested save location!\n"
            "...once all conflicts are resolved and the last merging engine window is closed, saved files will be repacked into a merged mod at the location of your choice...\n"
        ),
        "dialogue_pak_files": "PAK files",
        "dialogue_tools_redowndload_installer": (
            "installer exists.\n" "Do you want to redownload the latest version?"
        ),
        "merging_error_invalid_values": "invalid values",
        "merging_error_no_conflicts": "no conflicts",
        "merging_error_too_much_sources": "too much sources",
        "merging_error_ineligible_for_merging": "ineligible for merging",
        "merging_error_missing_key": "missing key",
        "merging_error_processing_error": "processing error",
        "merging_error_wasn_not_saved_in": "wasn't saved in ",
        "merging_error_returned": "returned",
        "dialogue_only_windows": "This function is available only on Windows.",
        "dialogue_install_found": "was found at",
        "dialogue_install_success": "was successfully installed to",
        "dialogue_install_error": "Failed to install",
        "dialogue_get_aes_success": "AES Key successfully extracted.",
        "dialogue_get_aes_error": "Failed to extract AES Key.",
        "dialogue_check_logs": "Check logs for details.",
        "dialogue_request_update_1": "A newer version",
        "dialogue_request_update_2": "is available!\nDo you want to visit the download page?\n\nIf you wish to skip this version, click `Cancel`.",
        "dialogue_skip_setup_sequence": "Please navigate to the Settings and finish the required configuration.",
        "dialogue_setup_sequence_success": "Initial setup finished succesfully.",
        "dialogue_setup_sequence_warning": "Initial setup was incomplete.\n\nPlease navigate to the Settings and finish the required configuration.",
        "dialogue_relaunch": "Please, relaunch the app.",
        "filedialogue_askdirectory": "Select Directory",
        "filedialogue_askopenfilenames": "Select Files",
        "tooltip_settings": "Settings",
        "tooltip_button_reset": "Reset all setting to the default values",
        "tooltip_button_unpack": "Unpack files to destination",
        "tooltip_button_repack": "Repack folders to destination",
        "tooltip_button_merge": "Analyze conflicts",
        "tooltip_button_label_no_conflicts_count": 'Files modified by 1 mod; won\'t be compared if "Ignore files without conflicts" is checked',
        "tooltip_button_label_dual_match_count": "Files modified by 2 mods; matching vanilla file is unpacked and will be used in comparison",
        "tooltip_button_label_dual_no_match_count": "Files modified by 2 mods; matching vanilla file isn't found, please unpack vanilla files in settings!",
        "tooltip_button_label_tri_count": "Files modified by 3 mods; will be compared without vanilla base",
        "tooltip_button_label_complex_count": "Files modified by 4+ mods; can't be compared due to merging engine limitations!",
        "tooltip_checkbox_ignore_no_conflicts": "Uncheck to include non-conflicting files to a merge mod or to compare them with matching vanilla file",
        "tooltip_button_select_all": "Select all files in the treeview",
        "tooltip_button_process": "Start merging selected files in groups",
    },
    "Русский": {
        "meta_description": "Удобное графическое приложение для распаковки, упаковки и разрешения конфликтов .pak модов.",
        "meta_developer": "Разработчик:",
        "menu_file": "Файл",
        "menu_file_exit": "Выход",
        "menu_preferences": "Параметры",
        "menu_preferences_settings": "Настройки",
        "menu_help": "Справка",
        "menu_help_license": "Просмотреть лицензию",
        "menu_help_homepage": "Посетить домашнюю страницу",
        "menu_help_about": "О программе",
        "settings_tools": "Утилиты",
        "settings_tools_path_tools": "Пути к исполняемым файлам",
        "settings_tools_merging_engine": "Утилита сравнения",
        "settings_tools_used_tool": "Утилита",
        "settings_tools_browse": "Обзор",
        "settings_tools_install": "Установить",
        "settings_tools_unpack": "Распаковать",
        "settings_tools_get": "Получить",
        "settings_game": "Игра",
        "settings_game_path": "Путь к папке с игрой",
        "settings_game_vanilla_unpacked": "Оригинальные файлы",
        "settings_game_keys": "Ключи шифрования",
        "settings_game_aes_key": "Ключ AES",
        "settings_game_find": "Найти",
        "settings_appearance": "Внешний вид",
        "settings_appearance_customization": "Кастомизация",
        "settings_appearance_color_theme": "Цветовая тема",
        "settings_appearance_dark_mode": "Тёмный режим",
        "settings_appearance_localization": "Локализация",
        "settings_appearance_language": "Язык",
        "settings_appearance_onboarding": "Обучение",
        "settings_appearance_hints": "Подсказки в интерфейсе",
        "settings_appearance_show_hints": "Показывать",
        "settings_require_restart": "* Требуется перезапуск для применения изменений",
        "settings_save": "Сохранить",
        "generic_ok": "OK",
        "generic_yes": "Да",
        "generic_no": "Нет",
        "generic_cancel": "Отменить",
        "generic_retry": "Повторить",
        "generic_folder_is_not_empty": "Папка не пуста",
        "generic_question": "Вопрос",
        "generic_info": "Информация",
        "generic_success": "Успех",
        "generic_fail": "Неудача",
        "generic_warning": "Предупреждение",
        "generic_error": "Ошибка!",
        "generic_results": "Результаты",
        "generic_search": "Поиск:",
        "generic_process": "Обработать",
        "generic_reset": "Сбросить",
        "generic_unpacked": "Распакован",
        "generic_not_unpacked": "Не распакован",
        "generic_vanilla_were_unpacked": "Оригинальные файлы распакованы",
        "generic_vanilla_were_not_unpacked": "Оригинальные файлы не распакованы",
        "generic_files_were_unpacked": "Файлы распакованы",
        "generic_files_were_not_unpacked": "Файлы не распакованы",
        "generic_folders_were_repacked": "Папки упакованы",
        "generic_folders_were_not_repacked": "Папки не упакованы",
        "generic_installed": "Установлен",
        "generic_not_installed": "Не установлен",
        "generic_detected": "Обнаружен",
        "generic_not_detected": "Не обнаружен",
        "generic_dnd": "Перетащите",
        "generic_here": "сюда",
        "generic_any_files": "Любые файлы",
        "pak": ".pak файлы",
        "folders": "папки",
        "first_launch_sequence_title": "Первый запуск",
        "first_launch_sequence_welcome_1": "Приветствую! Похоже, вы запустили",
        "first_launch_sequence_welcome_2": "впервые.",
        "first_launch_sequence_welcome_3": "Текущий статус:",
        "first_launch_sequence_question": "Произвести установку?",
        "launch_screen_title": "Добро пожаловать",
        "launch_screen_header": "Что вы хотите сделать?",
        "launch_screen_button_repak": "Распаковать или упаковать",
        "launch_screen_button_merge": "Найти конфликты или объединить",
        "repak_screen_title": "Распаковка и упаковка .pak файлов",
        "repak_screen_unpack_header": "Распаковать .pak файлы",
        "repak_screen_unpack_hints": (
            "Инструкция:\n"
            "1. Добавьте один или несколько .pak файлов одним из следующих способов:\n"
            '  - Нажмите кнопку "Добавить".\n'
            "  - Перетащите их из проводника в список ниже.\n"
            '2. Нажмите кнопку "Распаковать все" и выберите папку назначения.\n'
            "...каждый .pak файл будет распакован в отдельную папку по выбранному пути..."
        ),
        "repak_screen_unpack_button": "Распаковать все",
        "repak_screen_unpack_msg_empty_list": "Пожалуйста, выберите файлы для распаковки.",
        "repak_screen_unpack_msg_overwrite_1": "Следующие папки уже существуют:",
        "repak_screen_unpack_msg_overwrite_2": "Хотите их перезаписать?",
        "repak_screen_repack_header": "Упаковать папки",
        "repak_screen_repack_hints": (
            "Инструкция:\n"
            "1. Добавьте одну или несколько папок одним из следующих способов:\n"
            '  - Нажмите кнопку "Добавить".\n'
            "  - Перетащите их из проводника в список ниже.\n"
            '2. Нажмите кнопку "Упаковать все" и выберите папку назначения.\n'
            "...каждая папка будет упакована в отдельный .pak файл по выбранному пути..."
        ),
        "repak_screen_repack_button": "Упаковать все",
        "repak_screen_repack_msg_empty_list": "Пожалуйста, выберите папки для упаковки.",
        "button_add": "Добавить",
        "button_remove": "Убрать",
        "button_clear": "Очистить",
        "merge_screen_title": "Поиск конфликтов или слияние модов",
        "merge_screen_header": "Разрешение конфликтов между модами",
        "merge_screen_hints": (
            "Инструкция:\n"
            "1. Добавьте один или несколько .pak файлов одним из следующих способов:\n"
            '  - Нажмите кнопку "Добавить".\n'
            "  - Перетащите их из проводника в список ниже.\n"
            '2. Нажмите кнопку "Анализировать все".\n'
            "...откроется окно слияния..."
        ),
        "merge_screen_analyze_button": "Анализировать все",
        "merge_screen_analyze_msg_empty_list": "Пожалуйста, выберите файлы для анализа.",
        "merge_screen_conflicts_title": "Поиск конфликтов или слияние модов",
        "merge_screen_conflicts_show_path": "Показать полный путь",
        "merge_screen_conflicts_file_structure": "Дерево файлов",
        "merge_screen_conflicts_pak_sources": "Источник PAK",
        "merge_screen_conflicts_pak_sources_paths": "Пути источников PAK",
        "merge_screen_conflicts_no_conflicts_count": "Количество файлов без конфликтов:",
        "merge_screen_conflicts_dual_match_count": "Количество конфликтов с двумя источниками и найденным оригинальным файлом:",
        "merge_screen_conflicts_dual_no_match_count": "Количество конфликтов с двумя источниками без найденного оригинального файла:",
        "merge_screen_conflicts_tri_count": "Количество конфликтов с тремя источниками:",
        "merge_screen_conflicts_complex_count": "Количество сложных конфликтов:",
        "merge_screen_conflicts_select_files": "Пожалуйста, выберите файлы в дереве для продолжения.",
        "merge_screen_conflicts_merged_mod_save_location": "Место сохранения объединенного мода",
        "merge_screen_conflicts_no_files_processed": "Ни один файл не был обработан.",
        "merge_screen_conflicts_final_report_1": "Объединенный мод сохранён в:",
        "merge_screen_conflicts_final_report_2": "Обработано:",
        "merge_screen_conflicts_final_report_3": "Пропущено:",
        "error_executable_not_found_1": "не найден по пути:",
        "error_executable_not_found_2": 'Пожалуйста, введите правильный путь к исполняемому файлу (".exe") в настройках и попробуйте заново.',
        "merge_screen_conflicts_repak_error": "Объединённый мод не был сохранён из-за ошибки упаковки:",
        "merge_screen_conflicts_aborted": "Объединение отменено пользователем.",
        "merge_dir_is_empty": "Папка для упаковки пуста!\nПожалуйста, убедитесь, что вы сохранили объединённый файл перед закрытием утилиты сравнения.",
        "merge_screen_conflicts_select_merged_destination": "Папка не выбрана.",
        "merge_screen_ignore_no_conflicts_checkbutton": "Игнорировать файлы без конфликтов",
        "merge_screen_conflicts_action_button": "Обработать",
        "merge_screen_conflicts_select_all_button": "Выбрать все",
        "merge_screen_conflicts_hints": (
            "Инструкция:\n"
            '1. Выберите несколько конфликтующих файлов в дереве, удерживая CTRL или SHIFT и нажимая на них, затем нажмите кнопку "Обработать".\n'
            "...исходные .pak файлы для каждого конфликта будут распакованы, а конфликтующие файлы будут открываться в утилите сравнения по группам...\n"
            "2. Разрешите каждый конфликт вручную или используйте авто-слияние, затем сохраните результат. Важно: не меняйте предложенный путь сохранения!\n"
            "...когда все конфликты будут разрешены и последнее окно утилиты сравнения будет закрыто, сохраненные файлы будут упакованы в объединенный мод по выбранному пути...\n"
        ),
        "dialogue_pak_files": "PAK файлы",
        "dialogue_tools_redowndload_installer": (
            "(архив) найден.\n" "Вы хотите перекачать последнюю версию?"
        ),
        "merging_error_invalid_values": "некорректные значения",
        "merging_error_no_conflicts": "нет конфликтов",
        "merging_error_too_much_sources": "слишком много источников",
        "merging_error_ineligible_for_merging": "не подходит для слияния",
        "merging_error_missing_key": "отсутствует ключ",
        "merging_error_processing_error": "ошибка обработки",
        "merging_error_wasn_not_saved_in": "не сохранено в",
        "merging_error_returned": "возвратил",
        "dialogue_only_windows": "Функция доступна только на Windows.",
        "dialogue_install_found": "был найден в",
        "dialogue_install_success": "был успешно установлен в",
        "dialogue_install_error": "Не удалось установить",
        "dialogue_get_aes_success": "Ключ AES успешно извлечен.",
        "dialogue_get_aes_error": "Не удалось извлечь ключ AES.",
        "dialogue_check_logs": "Подробная информация в логах.",
        "dialogue_request_update_1": "Новая версия",
        "dialogue_request_update_2": 'доступна!\nЖелаете открыть страницу загрузки?\n\nЕсли хотите пропустить эту версию, нажмите "Отменить".',
        "dialogue_skip_setup_sequence": "Для обеспечения корректной работы перейдите в Настройки и завершите необходимую конфигурацию.",
        "dialogue_setup_sequence_success": "Первоначальная установка была проведена успешно.",
        "dialogue_setup_sequence_warning": "Первоначальная установка была проведена не полностью.\n\nПожалуйста, перейдите в Настройки и завершите необходимую конфигурацию.",
        "dialogue_relaunch": "Пожалуйста, перезапустите приложение.",
        "filedialogue_askdirectory": "Выберите папку",
        "filedialogue_askopenfilenames": "Выберите файлы",
        "tooltip_settings": "Настройки",
        "tooltip_button_reset": "Сбросить все настройки до значений по умолчанию",
        "tooltip_button_unpack": "Распаковать файлы в назначение",
        "tooltip_button_repack": "Запаковать папки в назначение",
        "tooltip_button_merge": "Анализировать конфликты",
        "tooltip_button_label_no_conflicts_count": 'Файлы, измененные одним модом; не будут сравниваться, если включена опция "Игнорировать файлы без конфликтов"',
        "tooltip_button_label_dual_match_count": "Файлы, измененные двумя модами; совпадающий файл из оригинальной версии будет распакован и использован для сравнения",
        "tooltip_button_label_dual_no_match_count": "Файлы, измененные двумя модами; совпадающий файл из оригинальной версии не найден, пожалуйста, распакуйте оригинальные файлы в настройках!",
        "tooltip_button_label_tri_count": "Файлы, измененные тремя модами; будут сравниваться без оригинальной базы",
        "tooltip_button_label_complex_count": "Файлы, измененные четырьмя и более модами; не могут быть объединены из-за ограничений механизма слияния!",
        "tooltip_checkbox_ignore_no_conflicts": "Снимите галочку, чтобы включить файлы без конфликтов в объединение модов или сравнить их с совпадающим файлом из оригинальной версии",
        "tooltip_button_select_all": "Выбрать все файлы в представлении дерева",
        "tooltip_button_process": "Начать объединение выбранных файлов по группам",
    },
}


def get_translation(lang):
    return TRANSLATIONS.get(lang, TRANSLATIONS["English"])


def get_available_languages():
    return TRANSLATIONS.keys()


def translate(text, lang=None):
    from config.settings_manager import settings  # ! Circular import

    lang = lang or settings.LANG_NAME
    if lang not in get_available_languages():
        lang = "English"

    lang_translations = get_translation(lang)
    fallback_translations = get_translation("English")

    return lang_translations.get(text, fallback_translations.get(text, text))
